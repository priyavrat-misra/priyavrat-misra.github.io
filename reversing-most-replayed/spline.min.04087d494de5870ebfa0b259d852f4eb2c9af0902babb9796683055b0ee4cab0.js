(function(){const t=[.5279266562267951,.12480357722391544,0,.026860087867167863,.02093585840785508,.07226272586274855,.04300692905583681,.060931159115314666,.0766022194404571,.09533412165015988,.10005036885395328,.1244830890736497,.1306733417026353,.14898677881351266,.15401166090733256,.1765162007810248,.18904599710150277,.2165362582978448,.2411788862526638,.2563927708316172,.2714743190114441,.28734058302736165,.31838112072725605,.35631935563876843,.4065510718723185,.45425309231304073,.5130269580648157,.6310929321109772,.673111989452699,.6610459706942394,.6401047108007057,.5941065590090554,.5514129161225795,.5179744188639085,.5146366007970492,.5279260560617198,.5537925706465563,.56710513226663,.6283048652531878,.6201156127993005,.5691351906341839,.5449407359494229,.5326001416689661,.5216348256587975,.5322490450998547,.5177853668651563,.5186520052340396,.5143716279162583,.5142227869775582,.5031536424093447,.49735544761586675,.4851786984009952,.4820914492531171,.47682710129421096,.4760549889247037,.47592295260811485,.4771610931586733,.47838753049026134,.48015771738016544,.483628171928689,.48753254582672967,.49134899554122363,.498566580738032,.5059903226382416,.5173880575852389,.5259515129636406,.5370941777535911,.5427597360654048,.5585314740819463,.5669661940516739,.576686467612917,.5752268661495344,.5715187462311508,.5755551564457804,.9184945819347612,.5872760802858826,.5863029126161151,.584826806613159,.5813572523122484,.5865882911094696,.5910676231497474,.5942920100173553,.600944239713133,.6103296211623007,.620023487460226,.6231227399096121,.6265172735760971,.6271660520226088,.6339608209237951,1,.9952214856696334,.6297503628372983,.6146493092925209,.6030382156612176,.5869615937863709,.5717062978172146,.5543432221032395,.5589017759334705,.5913743075032788,.641098284083037],n=10,e=80;function s(){const e=getComputedStyle(document.body);return{bg:e.getPropertyValue("--color-canvas-default"),fg:e.getPropertyValue("--color-fg-default"),muted:e.getPropertyValue("--color-fg-muted"),accent:e.getPropertyValue("--color-accent-fg"),border:e.getPropertyValue("--color-border-default"),canvasSubtle:e.getPropertyValue("--color-canvas-subtle")}}document.addEventListener("DOMContentLoaded",()=>{function a(e){const t=document.getElementById(e);return{canvas:t,ctx:t.getContext("2d")}}const l=a("canvasMovingAvg"),d=a("canvasCardinal");function u(e,t){const n=[];for(let s=0;s<e.length;s++){const i=Math.max(0,s-Math.floor(t/2)),a=Math.min(e.length,s+Math.floor(t/2)+1),o=e.slice(i,a);n.push(o.reduce((e,t)=>e+t,0)/o.length)}return n}function o(){const m=document.getElementById("windowSizeSlider"),f=document.getElementById("showPointsMA"),c=parseInt(m.value),p=f.checked;document.getElementById("windowSizeValue").textContent=c;const r=u(t,c),{canvas:i,ctx:o}=l,d=s(),a=window.devicePixelRatio||1;i.width=i.offsetWidth*a,i.height=100*a,o.scale(a,a),o.clearRect(0,0,i.offsetWidth,100),o.strokeStyle=d.border,o.lineWidth=2,o.beginPath();const h=i.offsetWidth/(r.length-1);r.forEach((t,s)=>{const i=s*h,a=n+e-t*e;s===0?o.moveTo(i,a):o.lineTo(i,a)}),o.stroke(),p&&(o.fillStyle=d.fg,r.forEach((t,s)=>{const i=s*h,a=n+e-t*e;o.beginPath(),o.arc(i,a,2,0,2*Math.PI),o.fill()}))}function r(e,t,n,s=!1,o){const i=t||e,a=n||e,c=a.x-i.x,l=a.y-i.y,r=s?-1:1;return{x:e.x+c*r*o,y:e.y+l*r*o}}function i(){const m=document.getElementById("tensionSlider"),f=document.getElementById("showPointsCardinal"),l=parseFloat(m.value),p=f.checked,g=document.getElementById("tensionValue");g.textContent=l;const{canvas:a,ctx:o}=d,h=s(),c=window.devicePixelRatio||1;a.width=a.offsetWidth*c,a.height=100*c,o.scale(c,c),o.clearRect(0,0,a.offsetWidth,100);const u=a.offsetWidth/(t.length-1),i=[];i.push({x:-u,y:100});for(let s=0;s<t.length;s++){const o=s*u,a=t[s],r=n+e-a*e;i.push({x:o,y:r})}i.push({x:a.offsetWidth+u,y:100}),o.beginPath(),o.strokeStyle=h.border,o.lineWidth=2,o.moveTo(i[0].x,i[0].y);for(let e=0;e<i.length-1;e++){const c=i[e-1],n=i[e],t=i[e+1],d=i[e+2],s=r(n,c,t,!1,l),a=r(t,n,d,!0,l);o.bezierCurveTo(s.x,s.y,a.x,a.y,t.x,t.y)}o.stroke(),p&&(o.fillStyle=h.fg,i.forEach(e=>{o.beginPath(),o.arc(e.x,e.y,2,0,2*Math.PI),o.fill()}))}o(),i(),document.getElementById("windowSizeSlider").addEventListener("input",o),document.getElementById("showPointsMA").addEventListener("change",o),document.getElementById("tensionSlider").addEventListener("input",i),document.getElementById("showPointsCardinal").addEventListener("change",i);let c;window.addEventListener("resize",()=>{clearTimeout(c),c=setTimeout(()=>{o(),i()},250)}),document.getElementById("dark").addEventListener("change",()=>{setTimeout(()=>{o(),i()},50)})})})()